---
id: 1561
title: Photo ID v1.3
date: 2010-12-13T23:17:04+00:00
author: RÃ©gis
excerpt: "Cette version corrige (je l'espÃ¨re) des crashs sur certains mobiles. Quelques petites modifications qui Ã©taient en cours ont Ã©tÃ© incluses :)"
layout: post
guid: http://regis.decamps.info/blog/?p=1561
permalink: /2010/12/photo-id-1-3/
tmac_last_id:
  - ""
dsq_thread_id:
  - "555134947"
categories:
  - Mobile
tags:
  - Photo ID passport Android
---
Les utilisateurs de lâ€™Android market sont sans pitiÃ©. Apparemment, lâ€™application ne <del datetime="2010-12-14T20:10:41+00:00">fonctionnait</del> fonctionne (toujours) pas sur Samsung Galaxy tab. RÃ©sultat: derniers (et seuls commentaires dâ€™ailleurs)
  
[<img src="http://regis.decamps.info/blog/wp-content/uploads/2010/12/Capture-dâ€™Ã©cran-2010-12-13-Ã -22.55.34-350x180.png" alt="derniers commentaires sur l&#039;Android Market" title="Derniers commentaires" width="350" height="180" class="alignnone size-medium wp-image-1562" srcset="http://regis.decamps.info/blog/wp-content/uploads/2010/12/Capture-dâ€™Ã©cran-2010-12-13-Ã -22.55.34-350x180.png 350w, http://regis.decamps.info/blog/wp-content/uploads/2010/12/Capture-dâ€™Ã©cran-2010-12-13-Ã -22.55.34.png 526w" sizes="(max-width: 350px) 100vw, 350px" />](http://regis.decamps.info/blog/wp-content/uploads/2010/12/Capture-dâ€™Ã©cran-2010-12-13-Ã -22.55.34.png)

<del datetime="2010-12-14T20:10:41+00:00">Pour les curieux, jâ€™avais changÃ© lâ€™<tt>app_name</tt> dans mon <tt>res/strings.xml</tt>. A priori, je nâ€™avais rien cassÃ©, puisque jâ€™avais crÃ©Ã© un <tt>app_techname</tt> auquel le Manifest se rÃ©fÃ©rait <tt><Application android:name="@string/app_techname"...</tt>. Dâ€™ailleurs Ã§a fonctionnait trÃ¨s bien, sur lâ€™Ã©mulateur, sur mon HTC. Mais pas sur certains appareils</del>. Il y a eu 12 crashs hier:
  
`<br />
java.lang.RuntimeException: Unable to instantiate application info.decamps.droid.photoid.PhotoIDroid: java.lang.ClassNotFoundException: info.decamps.droid.photoid.PhotoIDroid<br />
` 

Sinon, jâ€™ai eu la mauvaise idÃ©e de passer les dimensions des impressions photos US de 4&Prime;x6&Prime; Ã  5&Prime;x7&Prime;. Punition directe: OutOfMemoryErrorâ€¦;

[<img src="http://regis.decamps.info/blog/wp-content/uploads/2010/12/device9-233x350.png" alt="" title="Avertissement si rÃ©solution faible" width="233" height="350" class="alignright size-medium wp-image-1564" srcset="http://regis.decamps.info/blog/wp-content/uploads/2010/12/device9-233x350.png 233w, http://regis.decamps.info/blog/wp-content/uploads/2010/12/device9.png 320w" sizes="(max-width: 233px) 100vw, 233px" />](http://regis.decamps.info/blog/wp-content/uploads/2010/12/device9.png)

Bon parlons des petites amÃ©liorations de cette version:

  * Jâ€™ai ajoutÃ© unavertissement si la rÃ©solution de la photo dâ€™origine devient trop basse aprÃ¨s le zoom (_cf._ capture dâ€™Ã©cran)
  * Cet avertissement nâ€™est quâ€™un bonus liÃ© Ã  une optimization: lâ€™image gÃ©nÃ©rÃ©e sera au maximum dans cette rÃ©solution, et non plus systÃ©matiquement Ã  300 ppp comme câ€™Ã©tait le cas avant. Jâ€™espÃ¨re ainsi encore rÃ©duire les chances de OutOfMemory
  * jâ€™ai commencÃ© lâ€™internationalisation en chinois<sup><a href="#footnote_0_1561" id="identifier_0_1561" class="footnote-link footnote-identifier-link" title="clairement, il va falloir que je demande de lâ€™aide ;-) ">1</a></sup>
  * Je me suis rendu compte quâ€™Ã  un petit truc prÃ¨s (que jâ€™ai rÃ©-Ã©crit<sup><a href="#footnote_1_1561" id="identifier_1_1561" class="footnote-link footnote-identifier-link" title="la honte, jâ€™avais initialement r&eacute;dig&eacute; refactoris&eacute; mais ce vilain anglicisme nâ€™est pas pass&eacute;">2</a></sup>, du coup), mon code fonctionnait dÃ¨s lâ€™Android 1.6. Alors jâ€™ai changÃ© le manifest pour ouvrir lâ€™application Ã  ceux qui sont dÃ©jÃ  dÃ©laissÃ©s par leur constructeur. 
  * Par parenthÃ¨se, jâ€™ai ajoutÃ© un _promotional graphic_. En fait câ€™est Google qui lâ€™a demandÃ©. Il faut comprendre que lâ€™Android market va (enfin) Ãªtre amÃ©liorÃ©

<ol class="footnotes">
  <li id="footnote_0_1561" class="footnote">
    clairement, il va falloir que je demande de lâ€™aide ğŸ˜‰ [<a href="#identifier_0_1561" class="footnote-link footnote-back-link">&#8617;</a>]
  </li>
  <li id="footnote_1_1561" class="footnote">
    la honte, jâ€™avais initialement rÃ©digÃ© <em>refactorisÃ©</em> mais ce vilain anglicisme nâ€™est pas passÃ© [<a href="#identifier_1_1561" class="footnote-link footnote-back-link">&#8617;</a>]
  </li>
</ol>
